# Supervisor Configuration for Laravel Horizon
# Location: /etc/supervisor/conf.d/benchmark-horizon.conf

[program:benchmark-horizon]
process_name=%(program_name)s
command=/usr/bin/php /var/www/benchmark/backend/artisan horizon
autostart=true
autorestart=true
user=www-data
numprocs=1
redirect_stderr=true
stdout_logfile=/var/www/benchmark/backend/storage/logs/horizon.log
stopwaitsecs=3600
stopasgroup=true
killasgroup=true

# Environment variables
environment=
    HOME="/home/www-data",
    USER="www-data"

# Restart strategy
startretries=3
startsecs=10

# Priority
priority=999
